(this.webpackJsonpburger=this.webpackJsonpburger||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){e.exports={BreadBottom:"BurgerIngredients_BreadBottom__2-FDD",BreadTop:"BurgerIngredients_BreadTop__2mQvA",Seeds1:"BurgerIngredients_Seeds1__1fP3M",Seeds2:"BurgerIngredients_Seeds2__cgKMW",Meat:"BurgerIngredients_Meat__1s7Xj",Cheese:"BurgerIngredients_Cheese__2-B_u",Salad:"BurgerIngredients_Salad__1v1CW",Bacon:"BurgerIngredients_Bacon__3oTYu"}},,,,,,function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__2ANgj",Open:"SideDrawer_Open__1z9Dx",Close:"SideDrawer_Close__dAFxA",close:"SideDrawer_close__q-lHz"}},function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__2Sxwf",Label:"BuildControl_Label__Ar2N1",Less:"BuildControl_Less__gaPgF",More:"BuildControl_More__26jxF"}},function(e,t,n){e.exports={container:"Payment_container__11AH7",inner:"Payment_inner__3gkct",formCon:"Payment_formCon__1Dd_9",modalBtn:"Payment_modalBtn__1N7WW"}},function(e,t,n){e.exports={Input:"Input_Input__1fLhL",Label:"Input_Label__3Akar",InputElement:"Input_InputElement__84ZzJ",Invalid:"Input_Invalid__3F-Yq"}},,,,function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__1TXVC",t:"Toolbar_t__1My9s",d:"Toolbar_d__2uayT"}},,,,function(e,t,n){e.exports={NavItem:"NavItem_NavItem__I0zUJ",active:"NavItem_active__2kA5z"}},,,function(e,t,n){e.exports={BuildControls:"BuilderController_BuildControls__3CgrO",OrderButton:"BuilderController_OrderButton__2xBpg",enable:"BuilderController_enable__2ApiU"}},function(e,t,n){e.exports={Button:"Button_Button__3G6CV",Success:"Button_Success__LYVaA",Danger:"Button_Danger__d4S-d"}},function(e,t,n){e.exports={container:"Order_container__1uxdd",inner:"Order_inner__3A3gl"}},function(e,t,n){e.exports={container:"CheckoutSummery_container__1b7Wi",burgerCon:"CheckoutSummery_burgerCon__3P29y"}},,,,,,,,,,,function(e,t,n){e.exports={container:"Layout_container__1FT9Z"}},function(e,t,n){e.exports={Logo:"Logo_Logo__1AFv9"}},function(e,t,n){e.exports={NavItems:"NavItems_NavItems__1KS-S"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2jLR6"}},function(e,t,n){e.exports={Burger:"Burger_Burger__3u_Ax"}},function(e,t,n){e.exports={Modal:"Modal_Modal__3eyox"}},function(e,t,n){e.exports={loader:"Spinner_loader__2LATV",load7:"Spinner_load7__TVSwr"}},function(e,t,n){e.exports={container:"CheckOut_container__33pAx"}},function(e,t,n){e.exports={Auth:"Auth_Auth__1fJGx"}},,,,,,,function(e,t,n){},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(25),o=n.n(c),i=n(16),s=(n(64),n(5)),l=n(6),u=n(8),d=n(7),h=n(9),j=n(4),p=(n(69),function(e){return e.children}),b=n(49),g=n.n(b),O=n(28),m=n.n(O),f=n.p+"static/media/burger-logo.ec69c7f6.png",v=n(50),x=n.n(v),_=n(0),y=function(e){return Object(_.jsx)("div",{className:x.a.Logo,style:{height:e.height},children:Object(_.jsx)("img",{src:f,alt:"Logo"})})},C=n(51),k=n.n(C),S=n(32),I=n.n(S),B=function(e){var t="/"===e.link;return Object(_.jsxs)("li",{className:I.a.NavItem,children:[" ",Object(_.jsxs)(i.b,{exact:t,to:e.link,activeClassName:I.a.active,children:[" ",e.children," "]})," "]})},w=function(e){return Object(_.jsxs)("ul",{className:k.a.NavItems,children:[Object(_.jsx)(B,{link:"/",children:"Burger Builder"}),e.routeCtrlInner?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(B,{link:"/checkout",children:"Checkout"}),Object(_.jsx)(B,{link:"/orders",children:"Orders"}),Object(_.jsx)(B,{link:"/logout",children:"Logout"})]}):Object(_.jsx)(B,{link:"/auth",children:"Login/Signup"})]})},N=function(e){return Object(_.jsxs)("div",{className:m.a.Toolbar,children:[Object(_.jsx)("div",{className:m.a.t,onClick:e.menuOpen,children:"MENU"}),Object(_.jsx)(y,{height:"80%"}),Object(_.jsx)("nav",{className:m.a.d,children:Object(_.jsx)(w,{routeCtrlInner:e.routeCtrl})})]})},T=n(21),D=n.n(T),A=n(52),L=n.n(A),P=function(e){return e.show?Object(_.jsx)("div",{className:L.a.Backdrop,onClick:e.clicked}):null},E=function(e){return Object(_.jsxs)(p,{children:[Object(_.jsx)(P,{show:e.show,clicked:e.menuClose}),Object(_.jsxs)("div",{className:"".concat(D.a.SideDrawer," ").concat(e.show?D.a.Open:D.a.Close),children:[Object(_.jsx)("div",{className:D.a.close,onClick:e.menuClose,children:Object(_.jsx)("h2",{children:"X"})}),Object(_.jsx)(y,{height:"10%"}),Object(_.jsx)("nav",{children:Object(_.jsx)(w,{routeCtrlInner:e.routeCtrl})})]})]})},U=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={showSideDrawer:!1},e.sideDrawerOpen=function(){e.setState({showSideDrawer:!0})},e.sideDrawerClose=function(){e.setState({showSideDrawer:!1})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(_.jsxs)(p,{children:[Object(_.jsx)(N,{routeCtrl:this.props.token,menuOpen:this.sideDrawerOpen}),Object(_.jsx)(E,{routeCtrl:this.props.token,menuClose:this.sideDrawerClose,show:this.state.showSideDrawer}),Object(_.jsx)("main",{className:g.a.container,children:this.props.children})]})}}]),n}(r.Component),M=Object(h.b)((function(e){return{token:e.auth.token}}),null)(U),V=n(2),F=n(59),H=n(53),R=n.n(H),z=n(15),G=n.n(z),Y=function(e){var t=null;switch(e.type){case"bread-bottom":t=Object(_.jsx)("div",{className:G.a.BreadBottom});break;case"bread-top":t=Object(_.jsxs)("div",{className:G.a.BreadTop,children:[Object(_.jsx)("div",{className:G.a.Seeds1}),Object(_.jsx)("div",{className:G.a.Seeds2})]});break;case"meat":t=Object(_.jsx)("div",{className:G.a.Meat});break;case"cheese":t=Object(_.jsx)("div",{className:G.a.Cheese});break;case"bacon":t=Object(_.jsx)("div",{className:G.a.Bacon});break;case"salad":t=Object(_.jsx)("div",{className:G.a.Salad});break;default:t=null}return t},q=Object(j.g)((function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(F.a)(Array(e.ingredients[t])).map((function(e,n){return Object(_.jsx)(Y,{type:t},t+n)}))})).reduce((function(e,t){return e.concat(t)}),[]);return Object(_.jsxs)("div",{className:R.a.Burger,children:[Object(_.jsx)(Y,{type:"bread-top"}),0===t.length?Object(_.jsx)("h2",{children:"Please add ingredients"}):t,Object(_.jsx)(Y,{type:"bread-bottom"})]})})),$=n(35),W=n.n($),Z=n(22),J=n.n(Z),X=function(e){return Object(_.jsxs)("div",{className:J.a.BuildControl,children:[Object(_.jsx)("div",{className:J.a.Label,children:e.label}),Object(_.jsx)("button",{className:J.a.Less,onClick:e.removing,disabled:e.disable,children:" Less "}),Object(_.jsx)("button",{className:J.a.More,onClick:e.addition,children:" More "})]})},K=[{label:"Salad",type:"salad"},{label:"Meat",type:"meat"},{label:"Cheese",type:"cheese"},{label:"Bacon",type:"bacon"}],Q=function(e){return Object(_.jsxs)("div",{className:W.a.BuildControls,children:[Object(_.jsxs)("h1",{children:["Total Price : ",e.price.toFixed(2),"$ "]}),K.map((function(t){return Object(_.jsx)(X,{label:t.label,addition:function(){return e.iGAddition(t.type)},removing:function(){return e.iGRemove(t.type)},disable:e.disabledInformation[t.type]},t.label)})),Object(_.jsx)("button",{className:W.a.OrderButton,disabled:!e.purchasable,onClick:e.modalTrigger,children:"Order Now"})]})},ee=n(54),te=n.n(ee),ne=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.loader!==this.props.loader}},{key:"render",value:function(){return Object(_.jsxs)(p,{children:[Object(_.jsx)(P,{show:this.props.show,clicked:this.props.modalClose}),Object(_.jsx)("div",{className:te.a.Modal,style:{top:this.props.show?"50%":"-100%",opacity:this.props.show?"1":"0"},children:this.props.children})]})}}]),n}(r.Component),re=n(36),ae=n.n(re),ce=function(e){return Object(_.jsx)("button",{className:"".concat(ae.a.Button," ").concat(ae.a[e.btnType]),onClick:e.btnClick,children:e.children})},oe=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{style:{textTransform:"capitalize"},children:t})," : ",Object(_.jsx)("span",{children:e.ingredients[t]})]},t)}));return Object(_.jsxs)(p,{children:[Object(_.jsx)("h1",{children:"Order Summery"}),Object(_.jsxs)("h3",{children:["Total : ",e.price.toFixed(2),"$ "]}),Object(_.jsx)("p",{children:"Your burger contains following ingredients:"}),Object(_.jsx)("ul",{children:t}),Object(_.jsx)("p",{children:"Continue to checkout?"}),Object(_.jsx)(ce,{btnType:"Success",btnClick:e.continue,children:"Continue"}),Object(_.jsx)(ce,{btnType:"Danger",btnClick:e.canceled,children:"Cancel"})]})},ie=n(27),se=n.n(ie),le=se.a.create({baseURL:"https://burger-d4dae-default-rtdb.firebaseio.com"}),ue=n(55),de=n.n(ue),he=function(){return Object(_.jsx)("div",{className:de.a.loader,children:"Loading..."})},je=function(e,t){return function(n){Object(u.a)(a,n);var r=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return(e=r.call.apply(r,[this].concat(n))).state={error:null},e.errorClear=function(){e.setState({error:null})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.req=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.res=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.req),t.interceptors.response.eject(this.res)}},{key:"render",value:function(){return Object(_.jsxs)(p,{children:[Object(_.jsx)(ne,{show:this.state.error,modalClose:this.errorClear,children:this.state.error?this.state.error.message:null}),Object(_.jsx)(e,Object(V.a)({},this.props))]})}}]),a}(r.Component)},pe="ADD_IG",be="REMOVE_IG",ge="SET_IG",Oe="SET_PRICE",me="BUY_BURGER_SUCCESS",fe="BUY_BURGER_ERROR",ve="BUY_BURGER",xe="BUY_BURGER_DONE",_e="BUY_BURGER_NEW",ye="AUTH_START",Ce="AUTH_SUCCESS",ke="AUTH_FAIL",Se="AUTH_LOGOUT",Ie=function(){return function(e){le.get("/ingredients.json").then((function(t){var n;e((n=t.data,{type:ge,ingredients:n}))})).catch((function(e){console.log(e)}))}},Be=function(){return function(e){le.get("/price.json").then((function(t){var n;e((n=t.data,{type:Oe,totalPrice:n}))})).catch((function(e){console.log(e)}))}},we=function(e,t){return function(n){n({type:ve}),setTimeout((function(){le.post("/orders.json?auth="+t,e).then((function(t){n(function(e,t){return{type:me,orderId:e,orderData:t}}(t.data,e))})).then((function(){n({type:xe})})).catch((function(e){n(function(e){return{type:fe,error:e}}(e))}))}),1e3)}},Ne=function(){return function(e){e({type:_e})}},Te=function(e,t){return{type:Ce,token:e,userId:t}},De=function(){return localStorage.removeItem("token"),localStorage.removeItem("expireIn"),localStorage.removeItem("userId"),localStorage.removeItem("access_token"),{type:Se}},Ae=function(e){return function(t){setTimeout((function(){t(De())}),1e3*e)}},Le=function(e,t,n){return function(r){r({type:ye});var a={email:e,password:t,returnSecureToken:!0},c="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=";n||(c="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key="),se.a.post("".concat(c,"AIzaSyBZAIKaHhpDiqM4DoQE8eHghEmHwGgOsSk"),a).then((function(e){alert("You are now logged in");var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expireIn",t),localStorage.setItem("userId",e.data.localId),r(Te(e.data.idToken,e.data.localId)),r(Ae(e.data.expiresIn))})).catch((function(e){var t;r((t=e.response.data.error.message,{type:ke,error:t}))}))}},Pe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={modal:!1,loader:!0},e.modalTrigger=function(){e.setState({modal:!0}),setTimeout((function(){e.setState({loader:!1})}),1e3)},e.modalClose=function(){e.setState({modal:!1})},e.continue=function(){e.props.history.push("/checkout")},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.init(),this.props.initPrice()}},{key:"updatePurchasable",value:function(e){return Object.values(e).reduce((function(e,t){return e+t}),0)>0}},{key:"render",value:function(){var e=Object(V.a)({},this.props.ig);for(var t in e)e[t]=e[t]<=0;var n=null,r=Object(_.jsx)(he,{});return this.props.ig&&this.props.price&&(r=Object(_.jsxs)(p,{children:[Object(_.jsx)(q,{ingredients:this.props.ig}),Object(_.jsx)(Q,{iGAddition:this.props.add,iGRemove:this.props.remove,disabledInformation:e,price:this.props.price,purchasable:this.updatePurchasable(this.props.ig),modalTrigger:this.modalTrigger})]}),n=Object(_.jsx)(oe,{ingredients:this.props.ig,canceled:this.modalClose,continue:this.continue,price:this.props.price})),Object(_.jsxs)(p,{children:[Object(_.jsx)(ne,{show:this.state.modal,modalClose:this.modalClose,loader:this.state.loader,children:this.state.loader?Object(_.jsx)(he,{}):n}),r]})}}]),n}(r.Component),Ee=Object(h.b)((function(e){return{ig:e.burger.ingredients,price:e.burger.totalPrice,r:e.order.redirect}}),(function(e){return{add:function(t){return e({type:pe,igName:t})},remove:function(t){return e({type:be,igName:t})},init:function(){return e(Ie())},initPrice:function(){return e(Be())}}}))(je(Pe,le)),Ue=n(37),Me=n.n(Ue),Ve=function(e){return Object(_.jsx)("div",{className:Me.a.container,children:Object(_.jsxs)("div",{className:Me.a.inner,children:[Object(_.jsxs)("p",{children:["Ingredients: ",Object(_.jsxs)("span",{children:["Salad:",e.ig.salad]}),Object(_.jsxs)("span",{children:["Meat:",e.ig.meat]}),Object(_.jsxs)("span",{children:["Bacon:",e.ig.bacon]}),Object(_.jsxs)("span",{children:["Cheese:",e.ig.cheese]})," "]}),Object(_.jsxs)("h3",{children:["Total: ",e.price,"$"]})]})})},Fe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={orders:null,loading:!0,modal:!1,error:null},e.modalClose=function(){e.setState({modal:!1})},e.loginPage=function(){e.props.history.push("/auth")},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;le.get("/orders.json?auth=".concat(this.props.token,'&orderBy="userId"&equalTo="').concat(this.props.uId,'"')).then((function(t){var n=[];for(var r in t.data)n.push(Object(V.a)(Object(V.a)({},t.data[r]),{},{id:r}));e.setState({orders:n,loading:!1})})).catch((function(t){e.setState({loading:!1,modal:!0,error:t.response.data.error})}))}},{key:"render",value:function(){return Object(_.jsx)(_.Fragment,{children:this.state.loading?Object(_.jsx)(he,{}):this.state.orders?this.state.orders.map((function(e){return Object(_.jsx)(Ve,{ig:e.ingredients,price:Number(e.price).toFixed(2)},e.id)})):Object(_.jsxs)(ne,{show:this.state.modal,modalClose:this.modalClose,children:[" ",Object(_.jsx)("h1",{style:{textAlign:"center",color:"red"},children:this.state.error}),"  ",Object(_.jsx)(ce,{btnType:"Success",btnClick:this.loginPage,children:" Login "})," "]})})}}]),n}(r.Component),He=Object(h.b)((function(e){return{token:e.auth.token,uId:e.auth.userId}}),null)(Fe),Re=n(23),ze=n.n(Re),Ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={userData:{name:"",email:"",address:{street:"",zip:null,country:""},card:null,date:{month:null,year:null},cvv:null},cardValue:"",monthValue:"",yearValue:"",cvvValue:""},e.order=function(t){t.preventDefault();var n={ingredients:e.props.ig,price:Number(e.props.price),userData:e.state.userData,userId:e.props.uid};Object.values(e.props.ig).reduce((function(e,t){return e+t}))>0?e.props.buy(n,e.props.token):(alert("Please add ingredients to order!"),e.props.history.push("/"))},e.inputHandler=function(t,n){var r=Object(V.a)({},e.state.userData);switch(n){case"name":r.name=t.target.value,e.setState({userData:r});break;case"email":r.email=t.target.value,e.setState({userData:r});break;case"street":r.address.street=t.target.value,e.setState({userData:r});break;case"zip":r.address.zip=t.target.value,e.setState({userData:r});break;case"country":r.address.country=t.target.value,e.setState({userData:r});break;case"card":t.target.value.length<=19&&(t.target.value=t.target.value.replace(/[^\dA-Z]/g,"").replace(/(.{4})/g,"$1 ").trim(),r.card=t.target.value,e.setState({userData:r,cardValue:t.target.value}));break;case"month":if(2===t.target.value.length){var a=/^(0[1-9]|1[0-2])$/.test(t.target.value)?t.target.value:t.target.value.replace(t.target.value,"");r.date.month=a,e.setState({userData:r,monthValue:a})}else t.target.value=t.target.value.replace(/[^\dA-Z]/g,"").replace(/(.{4})/g,"$1 ").trim(),r.date.month=t.target.value,e.setState({userData:r,monthValue:t.target.value});break;case"year":t.target.value.length<=4&&(t.target.value=t.target.value.replace(/[^\dA-Z]/g,"").replace(/(.{4})/g,"$1 ").trim(),r.date.year=t.target.value,e.setState({userData:r,yearValue:t.target.value}));break;case"cvv":t.target.value.length<=3&&(t.target.value=t.target.value.replace(/[^\dA-Z]/g,"").replace(/(.{4})/g,"$1 ").trim(),r.cvs=t.target.value,e.setState({userData:r,cvvValue:t.target.value}));break;default:e.setState({userData:r})}},e.modalClose=function(){new Promise((function(t){e.props.newB(),t()})).then((function(){e.props.history.push("/")}))},e.redirect=function(){e.props.newB(),e.props.history.push("/")},e.loginPage=function(){e.props.history.push("/auth")},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(_.jsxs)(p,{children:[this.props.token?null:Object(_.jsxs)(ne,{show:!0,children:[" ",Object(_.jsx)("h1",{style:{textAlign:"center",color:"red"},children:"Please login/signup to continue"}),"  ",Object(_.jsx)(ce,{btnType:"Success",btnClick:this.loginPage,children:" Login "})," "]}),Object(_.jsxs)(ne,{show:this.props.redirect,modalClose:this.modalClose,loader:this.state.loader,children:[Object(_.jsx)("h1",{style:{textAlign:"center"},children:"Your Burger is getting ready!"}),Object(_.jsx)("h2",{style:{textAlign:"center"},children:"Please wait"}),Object(_.jsx)("div",{className:ze.a.modalBtn,children:Object(_.jsx)(ce,{btnType:"Success",btnClick:this.redirect,children:"Okay"})})]}),Object(_.jsx)("div",{className:ze.a.container,children:Object(_.jsxs)("div",{className:ze.a.inner,children:[Object(_.jsx)("h1",{children:"Payment"}),Object(_.jsx)("div",{className:ze.a.formCon,children:Object(_.jsxs)("form",{children:[Object(_.jsx)("input",{onChange:function(t){return e.inputHandler(t,"name")},type:"text",placeholder:"Enter your name"}),Object(_.jsx)("input",{onChange:function(t){return e.inputHandler(t,"email")},type:"email",placeholder:"Enter your email"}),Object(_.jsx)("input",{onChange:function(t){return e.inputHandler(t,"street")},type:"text",placeholder:"Enter your street"}),Object(_.jsx)("input",{onChange:function(t){return e.inputHandler(t,"zip")},type:"number",placeholder:"Enter your zip code"}),Object(_.jsx)("input",{onChange:function(t){return e.inputHandler(t,"country")},type:"text",placeholder:"Enter your country"}),Object(_.jsx)("label",{children:"Enter Your Card Number"}),Object(_.jsx)("input",{onChange:function(t){return e.inputHandler(t,"card")},type:"text",value:this.state.cardValue,placeholder:"#### #### #### ####"}),Object(_.jsx)("label",{children:"Enter Your Card Month"}),Object(_.jsx)("input",{onChange:function(t){return e.inputHandler(t,"month")},type:"text",value:this.state.monthValue,placeholder:"##"}),Object(_.jsx)("label",{children:"Enter Your Card Year"}),Object(_.jsx)("input",{onChange:function(t){return e.inputHandler(t,"year")},type:"text",value:this.state.yearValue,placeholder:"####"}),Object(_.jsx)("label",{children:"Enter Your Card CVV"}),Object(_.jsx)("input",{onChange:function(t){return e.inputHandler(t,"cvv")},type:"text",value:this.state.cvvValue,placeholder:"###"}),Object(_.jsx)(ce,{btnType:"Success",btnClick:this.order,children:this.props.loader?"Loading...":"Order"})]})})]})})]})}}]),n}(r.Component),Ye=Object(h.b)((function(e){return{ig:e.burger.ingredients,price:e.burger.totalPrice,loader:e.order.loading,redirect:e.order.redirect,token:e.auth.token,uid:e.auth.userId}}),(function(e){return{buy:function(t,n){return e(we(t,n))},newB:function(){return e(Ne())}}}))(je(Ge,le)),qe=n(56),$e=n.n(qe),We=n(38),Ze=n.n(We),Je=function(e){var t=!1;return e.ingredients&&(t=Object.values(e.ingredients).reduce((function(e,t){return e+t}),0)>0),Object(_.jsxs)("div",{className:Ze.a.container,children:[t?Object(_.jsx)("h1",{children:"We hope it taste good to you!"}):Object(_.jsx)("h1",{children:"Please add ingredients to checkout"}),Object(_.jsx)("div",{className:Ze.a.burgerCon,children:Object(_.jsx)(q,{ingredients:e.ingredients})}),t?Object(_.jsxs)(_.Fragment,{children:[" ",Object(_.jsx)(ce,{btnType:"Danger",btnClick:e.cancel,children:" Cancel "}),Object(_.jsx)(ce,{btnType:"Success",btnClick:e.continue,children:" Continue "})," "]}):Object(_.jsx)(ce,{btnType:"Success",btnClick:e.add,children:" Add Ingredients "})]})},Xe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).cancelAction=function(){e.props.history.goBack()},e.continueAction=function(){e.props.history.push("/checkout/payment")},e.addAction=function(){e.props.history.push("/")},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(_.jsxs)(p,{children:[Object(_.jsx)("div",{className:$e.a.container,children:Object(_.jsx)("h1",{children:"Checkout"})}),Object(_.jsx)(Je,{ingredients:this.props.ig,cancel:this.cancelAction,continue:this.continueAction,add:this.addAction})]})}}]),n}(r.Component),Ke=Object(h.b)((function(e){return{ig:e.burger.ingredients}}),null)(Xe),Qe=n(17),et=n(24),tt=n.n(et),nt=function(e){var t=null,n=[tt.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(tt.a.Invalid),e.elementType){case"input":t=Object(_.jsx)("input",Object(V.a)(Object(V.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":t=Object(_.jsx)("textarea",Object(V.a)(Object(V.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":t=Object(_.jsx)("select",{className:n.join(" "),value:e.value,onChange:e.changed,children:e.elementConfig.options.map((function(e){return Object(_.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))});break;default:t=Object(_.jsx)("input",Object(V.a)(Object(V.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}))}return Object(_.jsxs)("div",{className:tt.a.Input,children:[Object(_.jsx)("label",{className:tt.a.Label,children:e.label}),t]})},rt=n(57),at=n.n(rt),ct=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},isSignUp:!1},e.inputChangedHandler=function(t,n){var r=Object(V.a)(Object(V.a)({},e.state.controls),{},Object(Qe.a)({},n,Object(V.a)(Object(V.a)({},e.state.controls[n]),{},{value:t.target.value,valid:e.checkValidity(t.target.value,e.state.controls[n].validation),touched:!0})));e.setState({controls:r})},e.submitHandler=function(t){t.preventDefault(),e.props.onAuth(e.state.controls.email.value,e.state.controls.password.value,e.state.isSignUp)},e.formSwitcher=function(){e.setState((function(e){return{isSignUp:!e.isSignUp}}))},e}return Object(l.a)(n,[{key:"checkValidity",value:function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var r=t.map((function(t){return Object(_.jsx)(nt,{elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.inputChangedHandler(n,t.id)}},t.id)}));this.props.loading&&(r=Object(_.jsx)(he,{}));var a=null;this.props.error&&(a=Object(_.jsx)("p",{style:{color:"red"},children:this.props.error}));var c=null;return this.props.token&&(c=Object.values(this.props.ig).reduce((function(e,t){return e+t}))>0?Object(_.jsx)(j.a,{to:"/checkout"}):Object(_.jsx)(j.a,{to:"/"})),Object(_.jsxs)("div",{className:at.a.Auth,children:[a,Object(_.jsxs)("form",{onSubmit:this.submitHandler,children:[r,Object(_.jsx)(ce,{btnType:"Success",children:"SUBMIT"})]}),Object(_.jsxs)(ce,{btnType:"Danger",btnClick:this.formSwitcher,children:[" ",this.state.isSignUp?"Sign In":"Sign Up"," "]}),c]})}}]),n}(r.Component),ot=Object(h.b)((function(e){return{loading:e.auth.loadingInForm,error:e.auth.error,token:null!==e.auth.token,ig:e.burger.ingredients}}),(function(e){return{onAuth:function(t,n,r){return e(Le(t,n,r))}}}))(ct),it=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return Object(_.jsx)(j.a,{to:"/"})}}]),n}(r.Component),st=Object(h.b)(null,(function(e){return{onLogout:function(){return e(Ae())}}}))(it),lt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onAuthLocal()}},{key:"render",value:function(){var e=Object(_.jsxs)(j.d,{children:[Object(_.jsx)(j.b,{path:"/auth",component:ot}),Object(_.jsx)(j.b,{path:"/",exact:!0,component:Ee}),Object(_.jsx)(j.a,{to:"/"})]});return this.props.isLogged&&(e=Object(_.jsxs)(j.d,{children:[Object(_.jsx)(j.b,{path:"/checkout/payment",component:Ye}),Object(_.jsx)(j.b,{path:"/checkout",component:Ke}),Object(_.jsx)(j.b,{path:"/orders",component:He}),Object(_.jsx)(j.b,{path:"/logout",component:st}),Object(_.jsx)(j.b,{path:"/",exact:!0,component:Ee}),Object(_.jsx)(j.a,{to:"/"})]})),Object(_.jsx)(M,{children:e})}}]),n}(r.Component),ut=Object(j.g)(Object(h.b)((function(e){return{isLogged:null!==e.auth.token}}),(function(e){return{onAuthLocal:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expireIn"));if(n<=new Date)e(De());else{var r=localStorage.getItem("userId");e(Te(t,r)),e(Ae(n.getTime()-(new Date).getTime()/1e3))}}else e(De())}))}}}))(lt)),dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},ht=n(18),jt=function(e,t){return Object(V.a)(Object(V.a)({},e),t)},pt={ingredients:{salad:0,bacon:0,meat:0,cheese:0},totalPrice:null},bt={salad:1.5,bacon:1.2,meat:2,cheese:1.7},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return jt(e,{ingredients:Object(V.a)(Object(V.a)({},e.ingredients),{},Object(Qe.a)({},t.igName,e.ingredients[t.igName]+1)),totalPrice:e.totalPrice+bt[t.igName]});case be:return jt(e,{ingredients:Object(V.a)(Object(V.a)({},e.ingredients),{},Object(Qe.a)({},t.igName,e.ingredients[t.igName]-1)),totalPrice:e.totalPrice+bt[t.igName]});case ge:return jt(e,{ingredients:t.ingredients});case Oe:return jt(e,{totalPrice:t.totalPrice});default:return e}},Ot={orders:[],loading:null,redirect:!1},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(V.a)(Object(V.a)({},e),{},{redirect:!0});case _e:return Object(V.a)(Object(V.a)({},e),{},{redirect:!1});case ve:return Object(V.a)(Object(V.a)({},e),{},{loading:!0});case me:var n=Object(V.a)(Object(V.a)({},t.orderData),{},{id:t.orderId.name});return Object(V.a)(Object(V.a)({},e),{},{loading:!1,orders:e.orders.concat(n)});case fe:return Object(V.a)(Object(V.a)({},e),{},{loading:!1});default:return e}},ft={token:null,userId:null,error:null,loadingInForm:!1},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return jt(e,{token:null,userId:null});case ye:return jt(e,{loadingInForm:!0});case Ce:return jt(e,{token:t.token,userId:t.userId,loadingInForm:!1,error:null});case ke:return jt(e,{error:t.error,loadingInForm:!1});default:return e}},xt=n(58),_t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ht.d,yt=Object(ht.c)({burger:gt,order:mt,auth:vt}),Ct=Object(ht.e)(yt,_t(Object(ht.a)(xt.a)));o.a.render(Object(_.jsx)(h.a,{store:Ct,children:Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(i.a,{children:Object(_.jsx)(ut,{})})})}),document.getElementById("root")),dt()}],[[90,1,2]]]);
//# sourceMappingURL=main.b9de42fa.chunk.js.map